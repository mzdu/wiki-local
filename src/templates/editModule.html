{% extends "_base.html" %}
{% block bodyContent %}


<div class="subHead"><h1>Edit Module: <a href="{{module_url}}" target="_self">{{module_title_general}}</a></h1></div>
<p>Note: Editing modules is still under development.  Please submit <a href="/feedback" target="_blank">feedback</a></p>
	<table>
		<tr><td class="title">Title: </td><td><input name="title" id="title" type="text" value="{{module_title_general}}" style="width: 100%" /></td></tr>
		<tr><td class="title">Meta Theory: </td>
			<td>
				<textarea cols="59" id="meta_theory" name="meta_theory" rows="15">{{module_meta_theory_general}}</textarea>
			</td>
		</tr>
	</table>
		Theory: 
			  <div id="wmd-button-bar" class="wmd-panel"></div>
		      <br/>
		      <textarea id="wmd-input" class="wmd-panel">{{markdown}}</textarea>
		      <br/>
		      Preview:
		      <div id="wmd-preview" class="wmd-panel"></div>
	<table>
		<tr><td class="title">Scope: </td><td>
				<ol id="scope">
				{% for scope in module_scope_general %}
					<li><input class="scopeItem" value="{{scope}}" style="width: 100%;" /><button class='removeScope'>X</button></li>
				{% endfor %}
				</ol>
				<input type="button" value="Add Scope" onclick="addScope()" />
		</td></tr>
	</table>
<p class="title">Terms: </p>	
	<table id="terms_new_module">	
		<tr>
			<td id="termBuilder">
			</td>
		</tr>
		<tr>
			<td id="termResults"></td>
		</tr>
		<tr>	
			<td>
			<ul id="termList">
				{% for term in terms %}
				<li><span class='term'>{{term.term.word}}</span> (<span class='termFunction'>{{term.definition.function}}</span>) - <span class='definition'>{{term.definition.definition}}</span> <button class='removeTerm'>X</button></li>
				{% endfor %}
			</ul>
			</td>
		</tr>
		</table>
	<table>
		<tr>
			<td class="title">Propositions </td>
			<td>
				<ol id="proposition">
				{% for proposition in module_propositions_general %}
					<li><input class="propositionItem" value="{{proposition}}" style="width: 100%" /><button class='removeProposition'>X</button></li>
				{% endfor %}
				</ol>
				<input type="button" value="Add Proposition" onclick="addProposition()") />
			</td>
		</tr>
		
		<tr><td>Discipline:</td><td>
			<select name="discipline" id="discipline">
				<option>Sociology</option><option>Psychology</option><option>Political Science</option>
		</td></tr>
	</table>
	<br />
	<input name="uid" id="uid" type="hidden" value="{{module_uid}}"/>

{% if module_published %}
<div id="buttons">
<button name="btnSubmitModule" onclick="submitForm('true','edit')" value="Submit" id="submitBtn" disabled>Submit</button>
<button onclick="enableSubmit()">Ready?</button>
</div>
{% else %}
<div id="buttons">
<button name="btnSubmitModule" onclick="submitForm('false','edit')" value="Save" id="submitBtn" disabled>Save and Exit</button>
<button name="btnPublish" onclick="submitForm('true','edit')" value="Publish" id="publishBtn" disabled>Save and Publish</button>
<button onclick="enableSubmit()" id="readyBtn">Ready?</button>
</div>
{% endif %}
{% endblock %}